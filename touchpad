#!/bin/bash

# This toggles the state of the touchpad

# Check the state of the touchpad
state=$(xinput list-props "SynPS/2 Synaptics TouchPad" | grep "Device Enabled" | awk '{print $4}')
# Output path for $state
output="$HOME/.config/polybar/touchpad"
green="%{F#00ff00}"
red="%{F#ff0000}"

# Toggle between the two states
if [ $state == "1" ]; then
	xinput --disable "SynPS/2 Synaptics TouchPad"
	echo "${red}T${F-}" >> $output
elif [ $state == "0" ]; then
	xinput --enable "SynPS/2 Synaptics TouchPad"
	echo "${green}T${F-}" >> $output
fi

if [ "$1" == "off" ]; then
	xinput --disable "SynPS/2 Synaptics TouchPad"
fi
